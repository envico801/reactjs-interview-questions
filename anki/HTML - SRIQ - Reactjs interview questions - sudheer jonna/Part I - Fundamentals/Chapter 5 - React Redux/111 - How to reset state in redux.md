========== Question ==========  

### How to reset state in Redux?  

========== Answer ==========  

You need to write a _root reducer_ in your application which delegate handling the action to the reducer generated by `combineReducers()`.

For example, let us take `rootReducer()` to return the initial state after `USER_LOGOUT` action. As we know, reducers are supposed to return the initial state when they are called with `undefined` as the first argument, no matter the action.

<!-- codeblock-start -->
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> appReducer = <span class="hljs-title function_">combineReducers</span>({
    <span class="hljs-comment">/* your app's top-level reducers */</span>
});
<span class="hljs-keyword">const</span> <span class="hljs-title function_">rootReducer</span> = (<span class="hljs-params">state, action</span>) => {
    <span class="hljs-keyword">if</span> (action.<span class="hljs-property">type</span> === <span class="hljs-string">'USER_LOGOUT'</span>) {
        state = <span class="hljs-literal">undefined</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">appReducer</span>(state, action);
};
</code></pre>
<!-- codeblock-end -->

In case of using `redux-persist`, you may also need to clean your storage. `redux-persist` keeps a copy of your state in a storage engine. First, you need to import the appropriate storage engine and then, to parse the state before setting it to undefined and clean each storage state key.

<!-- codeblock-start -->
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> appReducer = <span class="hljs-title function_">combineReducers</span>({
    <span class="hljs-comment">/* your app's top-level reducers */</span>
});
<span class="hljs-keyword">const</span> <span class="hljs-title function_">rootReducer</span> = (<span class="hljs-params">state, action</span>) => {
    <span class="hljs-keyword">if</span> (action.<span class="hljs-property">type</span> === <span class="hljs-string">'USER_LOGOUT'</span>) {
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(state).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =></span> {
            storage.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">`persist:<span class="hljs-subst">${key}</span>`</span>);
        });
        state = <span class="hljs-literal">undefined</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">appReducer</span>(state, action);
};
</code></pre>
<!-- codeblock-end -->

========== Id ==========  
111

---

DECK INFO

TARGET DECK: Javascript::Interview::SRIQ - Reactjs interview questions - sudheer jonna::Part I - Fundamentals::Chapter 5 - React Redux

FILE TAGS: #Javascript::#Interview::#SRIQ-Reactjs-interview-questions-sudheer-jonna::#Part-I-Fundamentals::#Chapter-5-React-Redux::#111-How-to-reset-state-in-redux

Tags:

Reference:

Related:

```dataview
where file.name = this.file.name
```
QUESTION STATUS: Safe to store
